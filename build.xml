<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project basedir="." default="clean_build" name="VM">
    <property name="compile.debug" value="on"/>
    <property name="dir.build" value="./build"/>
    <property name="dir.workspace" value="."/>
    <property name="dir.mods" value="${dir.workspace}/mods"/>

    <target name="clean_build" depends="clean, build"/>

    <target name="build">
        <echo message="Building ${ant.project.name}..."/>
        <ant inheritAll="false" antfile="${dir.workspace}/org.aion.avm.core/build.xml" target="clean_build">
            <property name="compile.debug" value="${compile.debug}"/>
        </ant>
        <ant inheritAll="false" antfile="${dir.workspace}/org.aion.avm.rt/build.xml" target="clean_build">
            <property name="compile.debug" value="${compile.debug}"/>
        </ant>
        <ant inheritAll="false" antfile="${dir.workspace}/org.aion.avm.fakecontract/build.xml" target="clean_build">
            <property name="compile.debug" value="${compile.debug}"/>
        </ant>
        <ant inheritAll="false" antfile="${dir.workspace}/org.aion.avm.testcore/build.xml" target="clean_build">
            <property name="compile.debug" value="${compile.debug}"/>
        </ant>
    </target>

    <target name="clean">
        <delete dir="${dir.build}"/>
        <delete dir="${dir.mods}"/>
    </target>
</project>